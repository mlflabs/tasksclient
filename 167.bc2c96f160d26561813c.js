(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{"bFL/":function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),o=t("EnSQ"),i=(t("OO+k"),t("IvfR")),u=t("Wa8H"),s=Object.assign||function(n){for(var l,t=1,e=arguments.length;t<e;t++)for(var o in l=arguments[t])Object.prototype.hasOwnProperty.call(l,o)&&(n[o]=l[o]);return n},r=function(n,l,t,e){return new(t||(t=Promise))(function(o,i){function u(n){try{r(e.next(n))}catch(n){i(n)}}function s(n){try{r(e.throw(n))}catch(n){i(n)}}function r(n){n.done?o(n.value):new t(function(l){l(n.value)}).then(u,s)}r((e=e.apply(n,l||[])).next())})},c=function(n,l){var t,e,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,e&&(o=2&i[0]?e.return:i[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,i[1])).done)return o;switch(e=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,e=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=l.call(n,u)}catch(n){i=[6,n],e=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=function(){function n(n,l,t,e){this.dataService=n,this.route=l,this.modalController=t,this.cdr=e,this.subscriptions=[],this.items=[],this.type="default",this.title="Tasks",this.icon="clipboard",this.newTaskInputFocused=!1}return n.prototype.ngOnInit=function(){return r(this,void 0,void 0,function(){var n,l,t,e,i,u,s,a=this;return c(this,function(b){switch(b.label){case 0:return console.log("ngOnInit"),console.log("Data: ",this.route.snapshot.data),(n=this.route.snapshot.data)&&(n.icon&&(this.icon=n.icon),n.title&&(this.title=n.title),n.type&&(this.type=n.type)),console.log("Tasks type: ",this.type),"category"!==this.type?[3,3]:(l=this.route.snapshot.paramMap.get("id"),console.log("Catid: ",l),t=this,[4,this.dataService.getDoc(l)]);case 1:return t.category=b.sent(),console.log("Category: ",this.category,l),null==this.category?[2]:(this.title="Tasks: "+this.category.title,this.subscriptions[0]=this.dataService.subscribeCollectionChanges(o.c,1e3).subscribe(function(n){return r(a,void 0,void 0,function(){var l;return c(this,function(t){switch(t.label){case 0:return console.log("We are making changes to docs",n),n.category!==this.category._id?[2]:(l=this,[4,this.dataService.findDocsByCategory(this.category._id)]);case 1:return l.items=t.sent(),this.cdr.detectChanges(),[2]}})})}),e=this,[4,this.dataService.findDocsByCategory(this.category._id)]);case 2:return e.items=b.sent(),[3,10];case 3:return"important"!==this.type?[3,5]:(this.subscriptions[0]=this.dataService.subscribeCollectionChanges(o.c,1e3).subscribe(function(n){return r(a,void 0,void 0,function(){var l;return c(this,function(t){switch(t.label){case 0:return console.log("We are making changes to docs",n),l=this,[4,this.dataService.findAllDocsByPropertyNotNull("important")];case 1:return l.items=t.sent(),this.cdr.detectChanges(),[2]}})})}),i=this,[4,this.dataService.findAllDocsByPropertyNotNull("important")]);case 4:return i.items=b.sent(),[3,10];case 5:return"today"!==this.type?[3,7]:(this.subscriptions[0]=this.dataService.subscribeCollectionChanges(o.c,1e3).subscribe(function(n){return r(a,void 0,void 0,function(){var l;return c(this,function(t){switch(t.label){case 0:return console.log("We are making changes to docs",n),l=this,[4,this.dataService.findAllDocsByPropertyNotNull("today")];case 1:return l.items=t.sent(),this.cdr.detectChanges(),[2]}})})}),u=this,[4,this.dataService.findAllDocsByPropertyNotNull("today")]);case 6:return u.items=b.sent(),[3,10];case 7:return"default"!==this.type?[3,9]:(this.subscriptions[0]=this.dataService.subscribeCollectionChanges(o.c,1e3).subscribe(function(n){return r(a,void 0,void 0,function(){var l;return c(this,function(t){switch(t.label){case 0:return console.log("We are making changes to docs",n),"default"!==n.category?[2]:(l=this,[4,this.dataService.findDocsByCategory("default")]);case 1:return l.items=t.sent(),this.cdr.detectChanges(),[2]}})})}),s=this,[4,this.dataService.findDocsByCategory("default")]);case 8:return s.items=b.sent(),[3,10];case 9:b.label=10;case 10:return this.cdr.detectChanges(),[2]}})})},n.prototype.settings=function(){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return console.log("Settings:: ",this.category),[4,this.modalController.create({component:u.a,componentProps:{item:s({},this.category)}})];case 1:return n.sent().present(),[2]}})})},n.prototype.selectedItem=function(n){return r(this,void 0,void 0,function(){return c(this,function(l){switch(l.label){case 0:return console.log("selectedItem",n),[4,this.modalController.create({component:i.a,componentProps:{item:s({},n)}})];case 1:return l.sent().present(),[2]}})})},n.prototype.taskChecked=function(n){console.log("Task Checked: ",n);var l=n.done?null:Date.now();this.saveItem(s({},n,{done:l}))},n.prototype.saveItem=function(n){return r(this,void 0,void 0,function(){return c(this,function(l){switch(l.label){case 0:return console.log("Saving Test: ",this.item),[4,this.dataService.save(n,o.c)];case 1:return l.sent(),[2]}})})},n.prototype.removeItem=function(n){console.log("Deleting doc:: ",n),this.item={},this.dataService.remove(n._id)},n.prototype.selectedItem2=function(n){this.item=s({},n)},n.prototype.ngOnDestroy=function(){console.log("ngOnDestroy"),this.subscriptions.forEach(function(n){n.unsubscribe()})},n.prototype.add=function(){console.log("ADD")},n.prototype.newTaskFocus=function(){console.log("newTaskFocus"),this.newTaskInputFocused=!0},n.prototype.newTaskBlur=function(){console.log("newTaskBlur"),this.newTaskInputFocused=!1},n.prototype.newTaskKeyInput=function(n){if(console.log("newTaskKeyInput",n),"Enter"===n.code&&(console.log("ENTER"),null!=this.newTask)){var l="default";null!=this.category&&null!=this.category._id&&(l=this.category._id),this.saveItem({category:l,title:this.newTask}),this.newTask=""}},n.prototype.printDone=function(n){return n?"radio-button-on":"radio-button-off"},n.prototype.printDoneColor=function(n,l){return l?n?"success":"primary":"light"},n.prototype.printTitle=function(n){return null==n||""===n?"No Title":n},n}(),b=function(){},p=t("pMnS"),d=t("ra/t"),h=t("ntG5"),f=t("M9A9"),g=t("ZYCi"),y=t("Ip0R"),m=t("Zq1E"),v=t("gIcY"),k=t("9opb"),C=e.qb({encapsulation:0,styles:[[""]],data:{}});function w(n){return e.Ib(0,[(n()(),e.sb(0,0,null,null,3,"ion-text",[["color","medium"],["position","stacked"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.selectedItem(n.parent.context.$implicit)&&e),e},d.W,d.w)),e.rb(1,49152,null,0,h.tb,[e.i,e.l],{color:[0,"color"]},null),(n()(),e.sb(2,0,null,0,1,"sub",[],null,null,null,null,null)),(n()(),e.Hb(3,null,["",""]))],function(n,l){n(l,1,0,"medium")},function(n,l){n(l,3,0,l.parent.context.$implicit.note)})}function I(n){return e.Ib(0,[(n()(),e.sb(0,0,null,null,11,"ion-item",[],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e.Cb(n,2).onClick(t)&&o),o},d.N,d.n)),e.rb(1,49152,null,0,h.E,[e.i,e.l],null,null),e.rb(2,16384,null,0,f.a,[[2,g.l],e.l],null,null),(n()(),e.sb(3,0,null,0,1,"ion-icon",[["color","secondary"],["slot","start"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.taskChecked(n.context.$implicit)&&e),e},d.L,d.l)),e.rb(4,49152,null,0,h.z,[e.i,e.l],{color:[0,"color"],name:[1,"name"]},null),(n()(),e.sb(5,0,null,0,6,"div",[["class","test"],["width","100%"]],null,null,null,null,null)),(n()(),e.sb(6,0,null,null,2,"ion-text",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.selectedItem(n.context.$implicit)&&e),e},d.W,d.w)),e.rb(7,49152,null,0,h.tb,[e.i,e.l],{color:[0,"color"]},null),(n()(),e.Hb(8,0,[" "," "])),(n()(),e.sb(9,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.jb(16777216,null,null,1,null,w)),e.rb(11,16384,null,0,y.i,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,4,0,"secondary",t.printDone(l.context.$implicit.done)),n(l,7,0,e.ub(1,"",t.printDoneColor(l.context.$implicit.done,l.context.$implicit.title),"")),n(l,11,0,l.context.$implicit.note)},function(n,l){n(l,8,0,l.component.printTitle(l.context.$implicit.title))})}function T(n){return e.Ib(2,[(n()(),e.sb(0,0,null,null,17,"ion-header",[],null,null,null,d.K,d.k)),e.rb(1,49152,null,0,h.y,[e.i,e.l],null,null),(n()(),e.sb(2,0,null,0,15,"ion-toolbar",[],null,null,null,d.Z,d.y)),e.rb(3,49152,null,0,h.xb,[e.i,e.l],null,null),(n()(),e.sb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,d.D,d.d)),e.rb(5,49152,null,0,h.g,[],null,null),(n()(),e.sb(6,0,null,0,1,"ion-menu-button",[],null,null,null,d.Q,d.r)),e.rb(7,49152,null,0,h.O,[e.i,e.l],null,null),(n()(),e.sb(8,0,null,0,2,"ion-title",[],null,null,null,d.Y,d.z)),e.rb(9,49152,null,0,h.yb,[e.i,e.l],null,null),(n()(),e.Hb(10,0,["",""])),(n()(),e.sb(11,0,null,0,6,"ion-buttons",[["slot","end"]],null,null,null,d.D,d.d)),e.rb(12,49152,null,0,h.g,[],null,null),(n()(),e.sb(13,0,null,0,4,"ion-button",[],null,[[null,"click"]],function(n,l,t){var o=!0,i=n.component;return"click"===l&&(o=!1!==e.Cb(n,15).onClick(t)&&o),"click"===l&&(o=!1!==i.settings()&&o),o},d.C,d.c)),e.rb(14,49152,null,0,h.f,[e.i,e.l],null,null),e.rb(15,16384,null,0,f.a,[[2,g.l],e.l],null,null),(n()(),e.sb(16,0,null,0,1,"ion-icon",[["name","settings"],["slot","end"]],null,null,null,d.L,d.l)),e.rb(17,49152,null,0,h.z,[e.i,e.l],{name:[0,"name"]},null),(n()(),e.sb(18,0,null,null,5,"ion-content",[],null,null,null,d.F,d.f)),e.rb(19,49152,null,0,h.r,[e.i,e.l],null,null),(n()(),e.sb(20,0,null,0,3,"ion-list",[["padding",""]],null,null,null,d.P,d.p)),e.rb(21,49152,null,0,h.L,[e.i,e.l],null,null),(n()(),e.jb(16777216,null,0,1,null,I)),e.rb(23,278528,null,0,y.h,[e.R,e.O,e.u],{ngForOf:[0,"ngForOf"]},null),(n()(),e.sb(24,0,null,null,14,"ion-footer",[],null,null,null,d.I,d.i)),e.rb(25,49152,null,0,h.w,[e.i,e.l],null,null),(n()(),e.sb(26,0,null,0,12,"ion-toolbar",[],null,null,null,d.Z,d.y)),e.rb(27,49152,null,0,h.xb,[e.i,e.l],null,null),(n()(),e.sb(28,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,d.D,d.d)),e.rb(29,49152,null,0,h.g,[],null,null),(n()(),e.sb(30,0,null,0,1,"ion-icon",[["color","primary"],["name","add"],["slot","icon-only"]],null,null,null,d.L,d.l)),e.rb(31,49152,null,0,h.z,[e.i,e.l],{color:[0,"color"],name:[1,"name"]},null),(n()(),e.sb(32,0,null,0,6,"ion-input",[["clearInput","true"],["id","newTask"],["name","newTask"],["placeholder","Add new task"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionFocus"],[null,"ionBlur"],[null,"keypress"],[null,"ionChange"]],function(n,l,t){var o=!0,i=n.component;return"ionChange"===l&&(o=!1!==e.Cb(n,33)._handleInputEvent(t.target.value)&&o),"ionBlur"===l&&(o=!1!==e.Cb(n,33)._handleBlurEvent()&&o),"ngModelChange"===l&&(o=!1!==(i.newTask=t)&&o),"ionFocus"===l&&(o=!1!==i.newTaskFocus()&&o),"ionBlur"===l&&(o=!1!==i.newTaskBlur()&&o),"keypress"===l&&(o=!1!==i.newTaskKeyInput(t)&&o),o},d.M,d.m)),e.rb(33,16384,null,0,m.a,[e.l],null,null),e.Eb(1024,null,v.e,function(n){return[n]},[m.a]),e.rb(35,671744,null,0,v.j,[[8,null],[8,null],[8,null],[6,v.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,v.f,null,[v.j]),e.rb(37,16384,null,0,v.g,[[4,v.f]],null,null),e.rb(38,49152,null,0,h.D,[e.i,e.l],{clearInput:[0,"clearInput"],name:[1,"name"],placeholder:[2,"placeholder"],type:[3,"type"]},null)],function(n,l){var t=l.component;n(l,17,0,"settings"),n(l,23,0,t.items),n(l,31,0,"primary","add"),n(l,35,0,"newTask",t.newTask),n(l,38,0,"true","newTask","Add new task","text")},function(n,l){n(l,10,0,l.component.title),n(l,32,0,e.Cb(l,37).ngClassUntouched,e.Cb(l,37).ngClassTouched,e.Cb(l,37).ngClassPristine,e.Cb(l,37).ngClassDirty,e.Cb(l,37).ngClassValid,e.Cb(l,37).ngClassInvalid,e.Cb(l,37).ngClassPending)})}var D=e.ob("app-tasks",a,function(n){return e.Ib(0,[(n()(),e.sb(0,0,null,null,1,"app-tasks",[],null,null,null,T,C)),e.rb(1,245760,null,0,a,[o.a,g.a,k.a,e.i],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),S=t("95zI"),A=t("apKv"),x=t("B4/3");t.d(l,"TasksPageModuleNgFactory",function(){return B});var B=e.pb(b,[],function(n){return e.zb([e.Ab(512,e.k,e.eb,[[8,[p.a,D]],[3,e.k],e.z]),e.Ab(4608,y.k,y.j,[e.w,[2,y.q]]),e.Ab(4608,v.n,v.n,[]),e.Ab(4608,S.a,S.a,[e.B,e.g]),e.Ab(4608,k.a,k.a,[S.a,e.k,e.s]),e.Ab(4608,A.a,A.a,[S.a,e.k,e.s]),e.Ab(1073742336,y.b,y.b,[]),e.Ab(1073742336,v.l,v.l,[]),e.Ab(1073742336,v.c,v.c,[]),e.Ab(1073742336,x.a,x.a,[]),e.Ab(1073742336,g.n,g.n,[[2,g.t],[2,g.l]]),e.Ab(1073742336,b,b,[]),e.Ab(1024,g.j,function(){return[[{path:"",component:a}]]},[])])})}}]);